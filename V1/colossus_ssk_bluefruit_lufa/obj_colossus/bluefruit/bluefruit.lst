   1               		.file	"bluefruit.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__RAMPZ__ = 0x3b
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.text
   9               	.Ltext0:
  10               		.cfi_sections	.debug_frame
  11               		.section	.text.keyboard_leds,"ax",@progbits
  13               	keyboard_leds:
  14               	.LFB13:
  15               		.file 1 "bluefruit/bluefruit.c"
   1:bluefruit/bluefruit.c **** /*
   2:bluefruit/bluefruit.c **** Bluefruit Protocol for TMK firmware
   3:bluefruit/bluefruit.c **** Author: Benjamin Gould, 2013
   4:bluefruit/bluefruit.c **** Based on code Copyright 2011 Jun Wako <wakojun@gmail.com>
   5:bluefruit/bluefruit.c **** 
   6:bluefruit/bluefruit.c **** This program is free software: you can redistribute it and/or modify
   7:bluefruit/bluefruit.c **** it under the terms of the GNU General Public License as published by
   8:bluefruit/bluefruit.c **** the Free Software Foundation, either version 2 of the License, or
   9:bluefruit/bluefruit.c **** (at your option) any later version.
  10:bluefruit/bluefruit.c **** 
  11:bluefruit/bluefruit.c **** This program is distributed in the hope that it will be useful,
  12:bluefruit/bluefruit.c **** but WITHOUT ANY WARRANTY; without even the implied warranty of
  13:bluefruit/bluefruit.c **** MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  14:bluefruit/bluefruit.c **** GNU General Public License for more details.
  15:bluefruit/bluefruit.c **** 
  16:bluefruit/bluefruit.c **** You should have received a copy of the GNU General Public License
  17:bluefruit/bluefruit.c **** along with this program.  If not, see <http://www.gnu.org/licenses/>.
  18:bluefruit/bluefruit.c **** 
  19:bluefruit/bluefruit.c **** */
  20:bluefruit/bluefruit.c **** 
  21:bluefruit/bluefruit.c **** #include <avr/interrupt.h>
  22:bluefruit/bluefruit.c **** #include <avr/wdt.h>
  23:bluefruit/bluefruit.c **** #include <avr/sleep.h>
  24:bluefruit/bluefruit.c **** #include <avr/io.h>
  25:bluefruit/bluefruit.c **** #include <util/delay.h>
  26:bluefruit/bluefruit.c **** #include <stdint.h>
  27:bluefruit/bluefruit.c **** #include "host.h"
  28:bluefruit/bluefruit.c **** #include "report.h"
  29:bluefruit/bluefruit.c **** #include "print.h"
  30:bluefruit/bluefruit.c **** #include "debug.h"
  31:bluefruit/bluefruit.c **** #include "host_driver.h"
  32:bluefruit/bluefruit.c **** #include "serial.h"
  33:bluefruit/bluefruit.c **** #include "bluefruit.h"
  34:bluefruit/bluefruit.c **** 
  35:bluefruit/bluefruit.c **** #define BLUEFRUIT_TRACE_SERIAL 1
  36:bluefruit/bluefruit.c **** 
  37:bluefruit/bluefruit.c **** static uint8_t bluefruit_keyboard_leds = 0;
  38:bluefruit/bluefruit.c **** 
  39:bluefruit/bluefruit.c **** static void bluefruit_serial_send(uint8_t);
  40:bluefruit/bluefruit.c **** 
  41:bluefruit/bluefruit.c **** void bluefruit_pins_init(void) {
  42:bluefruit/bluefruit.c ****     
  43:bluefruit/bluefruit.c ****     /* 
  44:bluefruit/bluefruit.c ****     * Extra pins used by bluefruit EzKey
  45:bluefruit/bluefruit.c ****     */
  46:bluefruit/bluefruit.c ****     
  47:bluefruit/bluefruit.c ****     /* Battery LED: output / low (LED off) */
  48:bluefruit/bluefruit.c **** //    DDR_BAT_LED |= (1<<BIT_BAT_LED);
  49:bluefruit/bluefruit.c **** //    PORT_BAT_LED &= ~(1<<BIT_BAT_LED);
  50:bluefruit/bluefruit.c ****     
  51:bluefruit/bluefruit.c ****     /* Bluefruit reset button (active high): initial Input / Hi-Z */
  52:bluefruit/bluefruit.c **** //    DDR_BF_RESET &= ~(1<<BIT_BF_RESET);
  53:bluefruit/bluefruit.c **** //    PORT_BF_RESET &= ~(1<<BIT_BF_RESET);
  54:bluefruit/bluefruit.c **** 
  55:bluefruit/bluefruit.c ****     /* Bluefruit pairing button (active low): initial Input / Hi-Z */
  56:bluefruit/bluefruit.c ****     DDR_BF_PAIRB &= ~(1<<BIT_BF_PAIRB);
  57:bluefruit/bluefruit.c ****     PORT_BF_PAIRB &= ~(1<<BIT_BF_PAIRB);
  58:bluefruit/bluefruit.c **** 
  59:bluefruit/bluefruit.c ****     /* Battery Voltage sensor: initial Input / Hi-Z */
  60:bluefruit/bluefruit.c **** //    DDR_BAT_VOLT &= ~(1<<BIT_BAT_VOLT);
  61:bluefruit/bluefruit.c **** //    PORT_BAT_VOLT &= ~(1<<BIT_BAT_VOLT);
  62:bluefruit/bluefruit.c ****     
  63:bluefruit/bluefruit.c **** }
  64:bluefruit/bluefruit.c **** 
  65:bluefruit/bluefruit.c **** 
  66:bluefruit/bluefruit.c **** void bluefruit_keyboard_print_report(report_keyboard_t *report)
  67:bluefruit/bluefruit.c **** {
  68:bluefruit/bluefruit.c ****     if (!debug_keyboard) return;
  69:bluefruit/bluefruit.c ****     dprintf("keys: "); for (int i = 0; i < KEYBOARD_REPORT_KEYS; i++) { debug_hex8(report->keys[i])
  70:bluefruit/bluefruit.c ****     dprintf(" mods: "); debug_hex8(report->mods);
  71:bluefruit/bluefruit.c ****     dprintf(" reserved: "); debug_hex8(report->reserved); 
  72:bluefruit/bluefruit.c ****     dprintf("\n");
  73:bluefruit/bluefruit.c **** }
  74:bluefruit/bluefruit.c **** 
  75:bluefruit/bluefruit.c **** #ifdef BLUEFRUIT_TRACE_SERIAL
  76:bluefruit/bluefruit.c **** static void bluefruit_trace_header(void)
  77:bluefruit/bluefruit.c **** {
  78:bluefruit/bluefruit.c ****     dprintf("+------------------------------------+\n");
  79:bluefruit/bluefruit.c ****     dprintf("| HID report to Bluefruit via serial |\n");
  80:bluefruit/bluefruit.c ****     dprintf("+------------------------------------+\n|");
  81:bluefruit/bluefruit.c **** }
  82:bluefruit/bluefruit.c **** 
  83:bluefruit/bluefruit.c **** static void bluefruit_trace_footer(void)
  84:bluefruit/bluefruit.c **** {
  85:bluefruit/bluefruit.c ****     dprintf("|\n+------------------------------------+\n\n");
  86:bluefruit/bluefruit.c **** }
  87:bluefruit/bluefruit.c **** #endif
  88:bluefruit/bluefruit.c **** 
  89:bluefruit/bluefruit.c **** static void bluefruit_serial_send(uint8_t data)
  90:bluefruit/bluefruit.c **** {
  91:bluefruit/bluefruit.c **** #ifdef BLUEFRUIT_TRACE_SERIAL
  92:bluefruit/bluefruit.c ****     dprintf(" ");
  93:bluefruit/bluefruit.c ****     debug_hex8(data);
  94:bluefruit/bluefruit.c ****     dprintf(" ");
  95:bluefruit/bluefruit.c **** #endif
  96:bluefruit/bluefruit.c ****     serial_send(data);
  97:bluefruit/bluefruit.c **** }
  98:bluefruit/bluefruit.c **** 
  99:bluefruit/bluefruit.c **** /*------------------------------------------------------------------*
 100:bluefruit/bluefruit.c ****  * Host driver
 101:bluefruit/bluefruit.c ****  *------------------------------------------------------------------*/
 102:bluefruit/bluefruit.c **** 
 103:bluefruit/bluefruit.c **** static uint8_t keyboard_leds(void);
 104:bluefruit/bluefruit.c **** static void send_keyboard(report_keyboard_t *report);
 105:bluefruit/bluefruit.c **** static void send_mouse(report_mouse_t *report);
 106:bluefruit/bluefruit.c **** static void send_system(uint16_t data);
 107:bluefruit/bluefruit.c **** static void send_consumer(uint16_t data);
 108:bluefruit/bluefruit.c **** 
 109:bluefruit/bluefruit.c **** static host_driver_t driver = {
 110:bluefruit/bluefruit.c ****         keyboard_leds,
 111:bluefruit/bluefruit.c ****         send_keyboard,
 112:bluefruit/bluefruit.c ****         send_mouse,
 113:bluefruit/bluefruit.c ****         send_system,
 114:bluefruit/bluefruit.c ****         send_consumer
 115:bluefruit/bluefruit.c **** };
 116:bluefruit/bluefruit.c **** 
 117:bluefruit/bluefruit.c **** host_driver_t *bluefruit_driver(void)
 118:bluefruit/bluefruit.c **** {
 119:bluefruit/bluefruit.c ****     return &driver;
 120:bluefruit/bluefruit.c **** }
 121:bluefruit/bluefruit.c **** 
 122:bluefruit/bluefruit.c **** static uint8_t keyboard_leds(void) {
  16               		.loc 1 122 0
  17               		.cfi_startproc
  18               	/* prologue: function */
  19               	/* frame size = 0 */
  20               	/* stack size = 0 */
  21               	.L__stack_usage = 0
 123:bluefruit/bluefruit.c ****     return bluefruit_keyboard_leds;
 124:bluefruit/bluefruit.c **** }
  22               		.loc 1 124 0
  23 0000 80E0      		ldi r24,0
  24 0002 0895      		ret
  25               		.cfi_endproc
  26               	.LFE13:
  28               		.section	.text.send_system,"ax",@progbits
  30               	send_system:
  31               	.LFB16:
 125:bluefruit/bluefruit.c **** 
 126:bluefruit/bluefruit.c **** static void send_keyboard(report_keyboard_t *report)
 127:bluefruit/bluefruit.c **** {
 128:bluefruit/bluefruit.c **** #ifdef BLUEFRUIT_TRACE_SERIAL   
 129:bluefruit/bluefruit.c ****     bluefruit_trace_header();
 130:bluefruit/bluefruit.c **** #endif
 131:bluefruit/bluefruit.c ****     bluefruit_serial_send(0xFD);
 132:bluefruit/bluefruit.c ****     for (uint8_t i = 0; i < KEYBOARD_REPORT_SIZE; i++) {
 133:bluefruit/bluefruit.c ****         bluefruit_serial_send(report->raw[i]);
 134:bluefruit/bluefruit.c ****     }
 135:bluefruit/bluefruit.c **** #ifdef BLUEFRUIT_TRACE_SERIAL   
 136:bluefruit/bluefruit.c ****     bluefruit_trace_footer();   
 137:bluefruit/bluefruit.c **** #endif
 138:bluefruit/bluefruit.c **** }
 139:bluefruit/bluefruit.c **** 
 140:bluefruit/bluefruit.c **** static void send_mouse(report_mouse_t *report)
 141:bluefruit/bluefruit.c **** {
 142:bluefruit/bluefruit.c **** #ifdef BLUEFRUIT_TRACE_SERIAL   
 143:bluefruit/bluefruit.c ****     bluefruit_trace_header();
 144:bluefruit/bluefruit.c **** #endif
 145:bluefruit/bluefruit.c ****     bluefruit_serial_send(0xFD);
 146:bluefruit/bluefruit.c ****     bluefruit_serial_send(0x00);
 147:bluefruit/bluefruit.c ****     bluefruit_serial_send(0x03);
 148:bluefruit/bluefruit.c ****     bluefruit_serial_send(report->buttons);
 149:bluefruit/bluefruit.c ****     bluefruit_serial_send(report->x);
 150:bluefruit/bluefruit.c ****     bluefruit_serial_send(report->y);
 151:bluefruit/bluefruit.c ****     bluefruit_serial_send(report->v); // should try sending the wheel v here
 152:bluefruit/bluefruit.c ****     bluefruit_serial_send(report->h); // should try sending the wheel h here
 153:bluefruit/bluefruit.c ****     bluefruit_serial_send(0x00);
 154:bluefruit/bluefruit.c **** #ifdef BLUEFRUIT_TRACE_SERIAL
 155:bluefruit/bluefruit.c ****     bluefruit_trace_footer();
 156:bluefruit/bluefruit.c **** #endif
 157:bluefruit/bluefruit.c **** }
 158:bluefruit/bluefruit.c **** 
 159:bluefruit/bluefruit.c **** static void send_system(uint16_t data)
 160:bluefruit/bluefruit.c **** {
  32               		.loc 1 160 0
  33               		.cfi_startproc
  34               	.LVL0:
  35               	/* prologue: function */
  36               	/* frame size = 0 */
  37               	/* stack size = 0 */
  38               	.L__stack_usage = 0
  39 0000 0895      		ret
  40               		.cfi_endproc
  41               	.LFE16:
  43               		.section	.text.bluefruit_trace_header,"ax",@progbits
  45               	bluefruit_trace_header:
  46               	.LFB9:
  77:bluefruit/bluefruit.c **** {
  47               		.loc 1 77 0
  48               		.cfi_startproc
  49               	/* prologue: function */
  50               	/* frame size = 0 */
  51               	/* stack size = 0 */
  52               	.L__stack_usage = 0
  78:bluefruit/bluefruit.c ****     dprintf("+------------------------------------+\n");
  53               		.loc 1 78 0
  54 0000 8091 0000 		lds r24,debug_config
  55 0004 80FF      		sbrs r24,0
  56 0006 00C0      		rjmp .L4
  78:bluefruit/bluefruit.c ****     dprintf("+------------------------------------+\n");
  57               		.loc 1 78 0 is_stmt 0 discriminator 1
  58 0008 80E0      		ldi r24,lo8(__c.2064)
  59 000a 90E0      		ldi r25,hi8(__c.2064)
  60 000c 9F93      		push r25
  61               	.LCFI0:
  62               		.cfi_def_cfa_offset 3
  63 000e 8F93      		push r24
  64               	.LCFI1:
  65               		.cfi_def_cfa_offset 4
  66 0010 0E94 0000 		call __xprintf
  67               	.LVL1:
  68 0014 0F90      		pop __tmp_reg__
  69 0016 0F90      		pop __tmp_reg__
  70               	.LCFI2:
  71               		.cfi_def_cfa_offset 2
  72               	.L4:
  79:bluefruit/bluefruit.c ****     dprintf("| HID report to Bluefruit via serial |\n");
  73               		.loc 1 79 0 is_stmt 1
  74 0018 8091 0000 		lds r24,debug_config
  75 001c 80FF      		sbrs r24,0
  76 001e 00C0      		rjmp .L5
  79:bluefruit/bluefruit.c ****     dprintf("| HID report to Bluefruit via serial |\n");
  77               		.loc 1 79 0 is_stmt 0 discriminator 1
  78 0020 80E0      		ldi r24,lo8(__c.2066)
  79 0022 90E0      		ldi r25,hi8(__c.2066)
  80 0024 9F93      		push r25
  81               	.LCFI3:
  82               		.cfi_def_cfa_offset 3
  83 0026 8F93      		push r24
  84               	.LCFI4:
  85               		.cfi_def_cfa_offset 4
  86 0028 0E94 0000 		call __xprintf
  87               	.LVL2:
  88 002c 0F90      		pop __tmp_reg__
  89 002e 0F90      		pop __tmp_reg__
  90               	.LCFI5:
  91               		.cfi_def_cfa_offset 2
  92               	.L5:
  80:bluefruit/bluefruit.c ****     dprintf("+------------------------------------+\n|");
  93               		.loc 1 80 0 is_stmt 1
  94 0030 8091 0000 		lds r24,debug_config
  95 0034 80FF      		sbrs r24,0
  96 0036 00C0      		rjmp .L3
  80:bluefruit/bluefruit.c ****     dprintf("+------------------------------------+\n|");
  97               		.loc 1 80 0 is_stmt 0 discriminator 1
  98 0038 80E0      		ldi r24,lo8(__c.2068)
  99 003a 90E0      		ldi r25,hi8(__c.2068)
 100 003c 9F93      		push r25
 101               	.LCFI6:
 102               		.cfi_def_cfa_offset 3
 103 003e 8F93      		push r24
 104               	.LCFI7:
 105               		.cfi_def_cfa_offset 4
 106 0040 0E94 0000 		call __xprintf
 107               	.LVL3:
 108 0044 0F90      		pop __tmp_reg__
 109 0046 0F90      		pop __tmp_reg__
 110               	.LCFI8:
 111               		.cfi_def_cfa_offset 2
 112               	.L3:
 113 0048 0895      		ret
 114               		.cfi_endproc
 115               	.LFE9:
 117               		.section	.text.bluefruit_trace_footer,"ax",@progbits
 119               	bluefruit_trace_footer:
 120               	.LFB10:
  84:bluefruit/bluefruit.c **** {
 121               		.loc 1 84 0 is_stmt 1
 122               		.cfi_startproc
 123               	/* prologue: function */
 124               	/* frame size = 0 */
 125               	/* stack size = 0 */
 126               	.L__stack_usage = 0
  85:bluefruit/bluefruit.c ****     dprintf("|\n+------------------------------------+\n\n");
 127               		.loc 1 85 0
 128 0000 8091 0000 		lds r24,debug_config
 129 0004 80FF      		sbrs r24,0
 130 0006 00C0      		rjmp .L16
  85:bluefruit/bluefruit.c ****     dprintf("|\n+------------------------------------+\n\n");
 131               		.loc 1 85 0 is_stmt 0 discriminator 1
 132 0008 80E0      		ldi r24,lo8(__c.2073)
 133 000a 90E0      		ldi r25,hi8(__c.2073)
 134 000c 9F93      		push r25
 135               	.LCFI9:
 136               		.cfi_def_cfa_offset 3
 137 000e 8F93      		push r24
 138               	.LCFI10:
 139               		.cfi_def_cfa_offset 4
 140 0010 0E94 0000 		call __xprintf
 141               	.LVL4:
 142 0014 0F90      		pop __tmp_reg__
 143 0016 0F90      		pop __tmp_reg__
 144               	.LCFI11:
 145               		.cfi_def_cfa_offset 2
 146               	.L16:
 147 0018 0895      		ret
 148               		.cfi_endproc
 149               	.LFE10:
 151               		.section	.text.bluefruit_serial_send,"ax",@progbits
 153               	bluefruit_serial_send:
 154               	.LFB11:
  90:bluefruit/bluefruit.c **** {
 155               		.loc 1 90 0 is_stmt 1
 156               		.cfi_startproc
 157               	.LVL5:
 158 0000 CF93      		push r28
 159               	.LCFI12:
 160               		.cfi_def_cfa_offset 3
 161               		.cfi_offset 28, -2
 162               	/* prologue: function */
 163               	/* frame size = 0 */
 164               	/* stack size = 1 */
 165               	.L__stack_usage = 1
 166 0002 C82F      		mov r28,r24
  92:bluefruit/bluefruit.c ****     dprintf(" ");
 167               		.loc 1 92 0
 168 0004 8091 0000 		lds r24,debug_config
 169               	.LVL6:
 170 0008 80FF      		sbrs r24,0
 171 000a 00C0      		rjmp .L22
  92:bluefruit/bluefruit.c ****     dprintf(" ");
 172               		.loc 1 92 0 is_stmt 0 discriminator 1
 173 000c 20E0      		ldi r18,lo8(__c.2078)
 174 000e 30E0      		ldi r19,hi8(__c.2078)
 175 0010 3F93      		push r19
 176               	.LCFI13:
 177               		.cfi_def_cfa_offset 4
 178 0012 2F93      		push r18
 179               	.LCFI14:
 180               		.cfi_def_cfa_offset 5
 181 0014 0E94 0000 		call __xprintf
 182               	.LVL7:
 183 0018 0F90      		pop __tmp_reg__
 184 001a 0F90      		pop __tmp_reg__
 185               	.LCFI15:
 186               		.cfi_def_cfa_offset 3
 187               	.L22:
  93:bluefruit/bluefruit.c ****     debug_hex8(data);
 188               		.loc 1 93 0 is_stmt 1
 189 001c 8091 0000 		lds r24,debug_config
 190 0020 80FF      		sbrs r24,0
 191 0022 00C0      		rjmp .L23
  93:bluefruit/bluefruit.c ****     debug_hex8(data);
 192               		.loc 1 93 0 is_stmt 0 discriminator 1
 193 0024 1F92      		push __zero_reg__
 194               	.LCFI16:
 195               		.cfi_def_cfa_offset 4
 196 0026 CF93      		push r28
 197               	.LCFI17:
 198               		.cfi_def_cfa_offset 5
 199 0028 20E0      		ldi r18,lo8(__c.2080)
 200 002a 30E0      		ldi r19,hi8(__c.2080)
 201 002c 3F93      		push r19
 202               	.LCFI18:
 203               		.cfi_def_cfa_offset 6
 204 002e 2F93      		push r18
 205               	.LCFI19:
 206               		.cfi_def_cfa_offset 7
 207 0030 0E94 0000 		call __xprintf
 208               	.LVL8:
 209 0034 0F90      		pop __tmp_reg__
 210 0036 0F90      		pop __tmp_reg__
 211 0038 0F90      		pop __tmp_reg__
 212 003a 0F90      		pop __tmp_reg__
 213               	.LCFI20:
 214               		.cfi_def_cfa_offset 3
 215               	.L23:
  94:bluefruit/bluefruit.c ****     dprintf(" ");
 216               		.loc 1 94 0 is_stmt 1
 217 003c 8091 0000 		lds r24,debug_config
 218 0040 80FF      		sbrs r24,0
 219 0042 00C0      		rjmp .L24
  94:bluefruit/bluefruit.c ****     dprintf(" ");
 220               		.loc 1 94 0 is_stmt 0 discriminator 1
 221 0044 20E0      		ldi r18,lo8(__c.2082)
 222 0046 30E0      		ldi r19,hi8(__c.2082)
 223 0048 3F93      		push r19
 224               	.LCFI21:
 225               		.cfi_def_cfa_offset 4
 226 004a 2F93      		push r18
 227               	.LCFI22:
 228               		.cfi_def_cfa_offset 5
 229 004c 0E94 0000 		call __xprintf
 230               	.LVL9:
 231 0050 0F90      		pop __tmp_reg__
 232 0052 0F90      		pop __tmp_reg__
 233               	.LCFI23:
 234               		.cfi_def_cfa_offset 3
 235               	.L24:
  96:bluefruit/bluefruit.c ****     serial_send(data);
 236               		.loc 1 96 0 is_stmt 1
 237 0054 8C2F      		mov r24,r28
 238               	/* epilogue start */
  97:bluefruit/bluefruit.c **** }
 239               		.loc 1 97 0
 240 0056 CF91      		pop r28
 241               	.LVL10:
  96:bluefruit/bluefruit.c ****     serial_send(data);
 242               		.loc 1 96 0
 243 0058 0C94 0000 		jmp serial_send
 244               	.LVL11:
 245               		.cfi_endproc
 246               	.LFE11:
 248               		.section	.text.send_consumer,"ax",@progbits
 250               	send_consumer:
 251               	.LFB17:
 161:bluefruit/bluefruit.c **** }
 162:bluefruit/bluefruit.c **** 
 163:bluefruit/bluefruit.c **** /*
 164:bluefruit/bluefruit.c **** +-----------------+-------------------+-------+
 165:bluefruit/bluefruit.c **** | Consumer Key    | Bit Map           | Hex   |
 166:bluefruit/bluefruit.c **** +-----------------+-------------------+-------+
 167:bluefruit/bluefruit.c **** | Home            | 00000001 00000000 | 01 00 |
 168:bluefruit/bluefruit.c **** | KeyboardLayout  | 00000010 00000000 | 02 00 |
 169:bluefruit/bluefruit.c **** | Search          | 00000100 00000000 | 04 00 |
 170:bluefruit/bluefruit.c **** | Snapshot        | 00001000 00000000 | 08 00 |
 171:bluefruit/bluefruit.c **** | VolumeUp        | 00010000 00000000 | 10 00 |
 172:bluefruit/bluefruit.c **** | VolumeDown      | 00100000 00000000 | 20 00 |
 173:bluefruit/bluefruit.c **** | Play/Pause      | 01000000 00000000 | 40 00 |
 174:bluefruit/bluefruit.c **** | Fast Forward    | 10000000 00000000 | 80 00 |
 175:bluefruit/bluefruit.c **** | Rewind          | 00000000 00000001 | 00 01 |
 176:bluefruit/bluefruit.c **** | Scan Next Track | 00000000 00000010 | 00 02 |
 177:bluefruit/bluefruit.c **** | Scan Prev Track | 00000000 00000100 | 00 04 |
 178:bluefruit/bluefruit.c **** | Random Play     | 00000000 00001000 | 00 08 |
 179:bluefruit/bluefruit.c **** | Stop            | 00000000 00010000 | 00 10 |
 180:bluefruit/bluefruit.c **** +-------------------------------------+-------+
 181:bluefruit/bluefruit.c **** */
 182:bluefruit/bluefruit.c **** #define CONSUMER2BLUEFRUIT(usage) \
 183:bluefruit/bluefruit.c ****     (usage == AUDIO_MUTE           ? 0x0000  : \
 184:bluefruit/bluefruit.c ****     (usage == AUDIO_VOL_UP         ? 0x1000  : \
 185:bluefruit/bluefruit.c ****     (usage == AUDIO_VOL_DOWN       ? 0x2000  : \
 186:bluefruit/bluefruit.c ****     (usage == TRANSPORT_NEXT_TRACK ? 0x0002  : \
 187:bluefruit/bluefruit.c ****     (usage == TRANSPORT_PREV_TRACK ? 0x0004  : \
 188:bluefruit/bluefruit.c ****     (usage == TRANSPORT_STOP       ? 0x0010  : \
 189:bluefruit/bluefruit.c ****     (usage == TRANSPORT_STOP_EJECT ? 0x0000  : \
 190:bluefruit/bluefruit.c ****     (usage == TRANSPORT_PLAY_PAUSE ? 0x4000  : \
 191:bluefruit/bluefruit.c ****     (usage == AL_CC_CONFIG         ? 0x0000  : \
 192:bluefruit/bluefruit.c ****     (usage == AL_EMAIL             ? 0x0000  : \
 193:bluefruit/bluefruit.c ****     (usage == AL_CALCULATOR        ? 0x0000  : \
 194:bluefruit/bluefruit.c ****     (usage == AL_LOCAL_BROWSER     ? 0x0000  : \
 195:bluefruit/bluefruit.c ****     (usage == AC_SEARCH            ? 0x0400  : \
 196:bluefruit/bluefruit.c ****     (usage == AC_HOME              ? 0x0100  : \
 197:bluefruit/bluefruit.c ****     (usage == AC_BACK              ? 0x0000  : \
 198:bluefruit/bluefruit.c ****     (usage == AC_FORWARD           ? 0x0000  : \
 199:bluefruit/bluefruit.c ****     (usage == AC_STOP              ? 0x0000  : \
 200:bluefruit/bluefruit.c ****     (usage == AC_REFRESH           ? 0x0000  : \
 201:bluefruit/bluefruit.c ****     (usage == AC_BOOKMARKS         ? 0x0000  : 0)))))))))))))))))))
 202:bluefruit/bluefruit.c **** 
 203:bluefruit/bluefruit.c **** static void send_consumer(uint16_t data)
 204:bluefruit/bluefruit.c **** {
 252               		.loc 1 204 0
 253               		.cfi_startproc
 254               	.LVL12:
 255 0000 CF92      		push r12
 256               	.LCFI24:
 257               		.cfi_def_cfa_offset 3
 258               		.cfi_offset 12, -2
 259 0002 DF92      		push r13
 260               	.LCFI25:
 261               		.cfi_def_cfa_offset 4
 262               		.cfi_offset 13, -3
 263 0004 EF92      		push r14
 264               	.LCFI26:
 265               		.cfi_def_cfa_offset 5
 266               		.cfi_offset 14, -4
 267 0006 FF92      		push r15
 268               	.LCFI27:
 269               		.cfi_def_cfa_offset 6
 270               		.cfi_offset 15, -5
 271               	/* prologue: function */
 272               	/* frame size = 0 */
 273               	/* stack size = 4 */
 274               	.L__stack_usage = 4
 275 0008 6C01      		movw r12,r24
 205:bluefruit/bluefruit.c ****     static uint16_t last_data = 0;
 206:bluefruit/bluefruit.c ****     if (data == last_data) return;
 276               		.loc 1 206 0
 277 000a 8091 0000 		lds r24,last_data.2117
 278 000e 9091 0000 		lds r25,last_data.2117+1
 279               	.LVL13:
 280 0012 C816      		cp r12,r24
 281 0014 D906      		cpc r13,r25
 282 0016 01F4      		brne .+2
 283 0018 00C0      		rjmp .L34
 207:bluefruit/bluefruit.c ****     last_data = data;
 284               		.loc 1 207 0
 285 001a D092 0000 		sts last_data.2117+1,r13
 286 001e C092 0000 		sts last_data.2117,r12
 208:bluefruit/bluefruit.c ****     
 209:bluefruit/bluefruit.c ****     uint16_t bitmap = CONSUMER2BLUEFRUIT(data);
 287               		.loc 1 209 0
 288 0022 82EE      		ldi r24,-30
 289 0024 C816      		cp r12,r24
 290 0026 D104      		cpc r13,__zero_reg__
 291 0028 01F4      		brne .+2
 292 002a 00C0      		rjmp .L53
 293               		.loc 1 209 0 is_stmt 0 discriminator 1
 294 002c 89EE      		ldi r24,-23
 295 002e C816      		cp r12,r24
 296 0030 D104      		cpc r13,__zero_reg__
 297 0032 01F0      		breq .L43
 298               		.loc 1 209 0 discriminator 3
 299 0034 8AEE      		ldi r24,-22
 300 0036 C816      		cp r12,r24
 301 0038 D104      		cpc r13,__zero_reg__
 302 003a 01F0      		breq .L44
 303               		.loc 1 209 0 discriminator 5
 304 003c 85EB      		ldi r24,-75
 305 003e C816      		cp r12,r24
 306 0040 D104      		cpc r13,__zero_reg__
 307 0042 01F0      		breq .L45
 308               		.loc 1 209 0 discriminator 7
 309 0044 86EB      		ldi r24,-74
 310 0046 C816      		cp r12,r24
 311 0048 D104      		cpc r13,__zero_reg__
 312 004a 01F0      		breq .L46
 313               		.loc 1 209 0 discriminator 9
 314 004c 87EB      		ldi r24,-73
 315 004e C816      		cp r12,r24
 316 0050 D104      		cpc r13,__zero_reg__
 317 0052 01F0      		breq .L47
 318               		.loc 1 209 0 discriminator 11
 319 0054 8CEC      		ldi r24,-52
 320 0056 C816      		cp r12,r24
 321 0058 D104      		cpc r13,__zero_reg__
 322 005a 01F0      		breq .L53
 323               		.loc 1 209 0 discriminator 13
 324 005c 8DEC      		ldi r24,-51
 325 005e C816      		cp r12,r24
 326 0060 D104      		cpc r13,__zero_reg__
 327 0062 01F0      		breq .L49
 328               		.loc 1 209 0 discriminator 15
 329 0064 83E8      		ldi r24,-125
 330 0066 C816      		cp r12,r24
 331 0068 81E0      		ldi r24,1
 332 006a D806      		cpc r13,r24
 333 006c 01F0      		breq .L53
 334               		.loc 1 209 0 discriminator 17
 335 006e 8AE8      		ldi r24,-118
 336 0070 C816      		cp r12,r24
 337 0072 81E0      		ldi r24,1
 338 0074 D806      		cpc r13,r24
 339 0076 01F0      		breq .L53
 340               		.loc 1 209 0 discriminator 19
 341 0078 82E9      		ldi r24,-110
 342 007a C816      		cp r12,r24
 343 007c 81E0      		ldi r24,1
 344 007e D806      		cpc r13,r24
 345 0080 01F0      		breq .L53
 346               		.loc 1 209 0 discriminator 21
 347 0082 84E9      		ldi r24,-108
 348 0084 C816      		cp r12,r24
 349 0086 81E0      		ldi r24,1
 350 0088 D806      		cpc r13,r24
 351 008a 01F0      		breq .L53
 352               		.loc 1 209 0 discriminator 23
 353 008c 81E2      		ldi r24,33
 354 008e C816      		cp r12,r24
 355 0090 82E0      		ldi r24,2
 356 0092 D806      		cpc r13,r24
 357 0094 01F0      		breq .L54
 358               		.loc 1 209 0 discriminator 25
 359 0096 83E2      		ldi r24,35
 360 0098 C816      		cp r12,r24
 361 009a 82E0      		ldi r24,2
 362 009c D806      		cpc r13,r24
 363 009e 01F0      		breq .L55
 364 00a0 00C0      		rjmp .L53
 365               	.L43:
 366               		.loc 1 209 0
 367 00a2 E12C      		mov r14,__zero_reg__
 368 00a4 70E1      		ldi r23,lo8(16)
 369 00a6 F72E      		mov r15,r23
 370 00a8 00C0      		rjmp .L36
 371               	.L44:
 372 00aa E12C      		mov r14,__zero_reg__
 373 00ac 60E2      		ldi r22,lo8(32)
 374 00ae F62E      		mov r15,r22
 375 00b0 00C0      		rjmp .L36
 376               	.L45:
 377 00b2 52E0      		ldi r21,lo8(2)
 378 00b4 E52E      		mov r14,r21
 379 00b6 F12C      		mov r15,__zero_reg__
 380 00b8 00C0      		rjmp .L36
 381               	.L46:
 382 00ba 44E0      		ldi r20,lo8(4)
 383 00bc E42E      		mov r14,r20
 384 00be F12C      		mov r15,__zero_reg__
 385 00c0 00C0      		rjmp .L36
 386               	.L47:
 387 00c2 30E1      		ldi r19,lo8(16)
 388 00c4 E32E      		mov r14,r19
 389 00c6 F12C      		mov r15,__zero_reg__
 390 00c8 00C0      		rjmp .L36
 391               	.L49:
 392 00ca E12C      		mov r14,__zero_reg__
 393 00cc 20E4      		ldi r18,lo8(64)
 394 00ce F22E      		mov r15,r18
 395 00d0 00C0      		rjmp .L36
 396               	.L53:
 397 00d2 E12C      		mov r14,__zero_reg__
 398 00d4 F12C      		mov r15,__zero_reg__
 399 00d6 00C0      		rjmp .L36
 400               	.L54:
 401 00d8 E12C      		mov r14,__zero_reg__
 402 00da 94E0      		ldi r25,lo8(4)
 403 00dc F92E      		mov r15,r25
 404 00de 00C0      		rjmp .L36
 405               	.L55:
 406 00e0 E12C      		mov r14,__zero_reg__
 407 00e2 FF24      		clr r15
 408 00e4 F394      		inc r15
 409               	.L36:
 410               	.LVL14:
 210:bluefruit/bluefruit.c ****     
 211:bluefruit/bluefruit.c **** #ifdef BLUEFRUIT_TRACE_SERIAL   
 212:bluefruit/bluefruit.c ****     dprintf("\nData: "); 
 411               		.loc 1 212 0 is_stmt 1 discriminator 42
 412 00e6 8091 0000 		lds r24,debug_config
 413 00ea 80FF      		sbrs r24,0
 414 00ec 00C0      		rjmp .L37
 415               		.loc 1 212 0 is_stmt 0 discriminator 1
 416 00ee 80E0      		ldi r24,lo8(__c.2119)
 417 00f0 90E0      		ldi r25,hi8(__c.2119)
 418 00f2 9F93      		push r25
 419               	.LCFI28:
 420               		.cfi_def_cfa_offset 7
 421 00f4 8F93      		push r24
 422               	.LCFI29:
 423               		.cfi_def_cfa_offset 8
 424 00f6 0E94 0000 		call __xprintf
 425               	.LVL15:
 426 00fa 0F90      		pop __tmp_reg__
 427 00fc 0F90      		pop __tmp_reg__
 428               	.LCFI30:
 429               		.cfi_def_cfa_offset 6
 430               	.L37:
 213:bluefruit/bluefruit.c ****     debug_hex16(data); 
 431               		.loc 1 213 0 is_stmt 1
 432 00fe 8091 0000 		lds r24,debug_config
 433 0102 80FF      		sbrs r24,0
 434 0104 00C0      		rjmp .L38
 435               		.loc 1 213 0 is_stmt 0 discriminator 1
 436 0106 DF92      		push r13
 437               	.LCFI31:
 438               		.cfi_def_cfa_offset 7
 439 0108 CF92      		push r12
 440               	.LCFI32:
 441               		.cfi_def_cfa_offset 8
 442 010a 80E0      		ldi r24,lo8(__c.2121)
 443 010c 90E0      		ldi r25,hi8(__c.2121)
 444 010e 9F93      		push r25
 445               	.LCFI33:
 446               		.cfi_def_cfa_offset 9
 447 0110 8F93      		push r24
 448               	.LCFI34:
 449               		.cfi_def_cfa_offset 10
 450 0112 0E94 0000 		call __xprintf
 451               	.LVL16:
 452 0116 0F90      		pop __tmp_reg__
 453 0118 0F90      		pop __tmp_reg__
 454 011a 0F90      		pop __tmp_reg__
 455 011c 0F90      		pop __tmp_reg__
 456               	.LCFI35:
 457               		.cfi_def_cfa_offset 6
 458               	.L38:
 214:bluefruit/bluefruit.c ****     dprintf("; bitmap: "); 
 459               		.loc 1 214 0 is_stmt 1
 460 011e 8091 0000 		lds r24,debug_config
 461 0122 80FF      		sbrs r24,0
 462 0124 00C0      		rjmp .L39
 463               		.loc 1 214 0 is_stmt 0 discriminator 1
 464 0126 80E0      		ldi r24,lo8(__c.2123)
 465 0128 90E0      		ldi r25,hi8(__c.2123)
 466 012a 9F93      		push r25
 467               	.LCFI36:
 468               		.cfi_def_cfa_offset 7
 469 012c 8F93      		push r24
 470               	.LCFI37:
 471               		.cfi_def_cfa_offset 8
 472 012e 0E94 0000 		call __xprintf
 473               	.LVL17:
 474 0132 0F90      		pop __tmp_reg__
 475 0134 0F90      		pop __tmp_reg__
 476               	.LCFI38:
 477               		.cfi_def_cfa_offset 6
 478               	.L39:
 215:bluefruit/bluefruit.c ****     debug_hex16(bitmap); 
 479               		.loc 1 215 0 is_stmt 1
 480 0136 8091 0000 		lds r24,debug_config
 481 013a 80FF      		sbrs r24,0
 482 013c 00C0      		rjmp .L40
 483               		.loc 1 215 0 is_stmt 0 discriminator 1
 484 013e FF92      		push r15
 485               	.LCFI39:
 486               		.cfi_def_cfa_offset 7
 487 0140 EF92      		push r14
 488               	.LCFI40:
 489               		.cfi_def_cfa_offset 8
 490 0142 80E0      		ldi r24,lo8(__c.2125)
 491 0144 90E0      		ldi r25,hi8(__c.2125)
 492 0146 9F93      		push r25
 493               	.LCFI41:
 494               		.cfi_def_cfa_offset 9
 495 0148 8F93      		push r24
 496               	.LCFI42:
 497               		.cfi_def_cfa_offset 10
 498 014a 0E94 0000 		call __xprintf
 499               	.LVL18:
 500 014e 0F90      		pop __tmp_reg__
 501 0150 0F90      		pop __tmp_reg__
 502 0152 0F90      		pop __tmp_reg__
 503 0154 0F90      		pop __tmp_reg__
 504               	.LCFI43:
 505               		.cfi_def_cfa_offset 6
 506               	.L40:
 216:bluefruit/bluefruit.c ****     dprintf("\n");
 507               		.loc 1 216 0 is_stmt 1
 508 0156 8091 0000 		lds r24,debug_config
 509 015a 80FF      		sbrs r24,0
 510 015c 00C0      		rjmp .L41
 511               		.loc 1 216 0 is_stmt 0 discriminator 1
 512 015e 80E0      		ldi r24,lo8(__c.2127)
 513 0160 90E0      		ldi r25,hi8(__c.2127)
 514 0162 9F93      		push r25
 515               	.LCFI44:
 516               		.cfi_def_cfa_offset 7
 517 0164 8F93      		push r24
 518               	.LCFI45:
 519               		.cfi_def_cfa_offset 8
 520 0166 0E94 0000 		call __xprintf
 521               	.LVL19:
 522 016a 0F90      		pop __tmp_reg__
 523 016c 0F90      		pop __tmp_reg__
 524               	.LCFI46:
 525               		.cfi_def_cfa_offset 6
 526               	.L41:
 217:bluefruit/bluefruit.c ****     bluefruit_trace_header();
 527               		.loc 1 217 0 is_stmt 1
 528 016e 0E94 0000 		call bluefruit_trace_header
 529               	.LVL20:
 218:bluefruit/bluefruit.c **** #endif
 219:bluefruit/bluefruit.c ****     bluefruit_serial_send(0xFD);
 530               		.loc 1 219 0
 531 0172 8DEF      		ldi r24,lo8(-3)
 532 0174 0E94 0000 		call bluefruit_serial_send
 533               	.LVL21:
 220:bluefruit/bluefruit.c ****     bluefruit_serial_send(0x00);
 534               		.loc 1 220 0
 535 0178 80E0      		ldi r24,0
 536 017a 0E94 0000 		call bluefruit_serial_send
 537               	.LVL22:
 221:bluefruit/bluefruit.c ****     bluefruit_serial_send(0x02);
 538               		.loc 1 221 0
 539 017e 82E0      		ldi r24,lo8(2)
 540 0180 0E94 0000 		call bluefruit_serial_send
 541               	.LVL23:
 222:bluefruit/bluefruit.c ****     bluefruit_serial_send((bitmap>>8)&0xFF);
 542               		.loc 1 222 0
 543 0184 8F2D      		mov r24,r15
 544 0186 0E94 0000 		call bluefruit_serial_send
 545               	.LVL24:
 223:bluefruit/bluefruit.c ****     bluefruit_serial_send(bitmap&0xFF); 
 546               		.loc 1 223 0
 547 018a 8E2D      		mov r24,r14
 548 018c 0E94 0000 		call bluefruit_serial_send
 549               	.LVL25:
 224:bluefruit/bluefruit.c ****     bluefruit_serial_send(0x00);
 550               		.loc 1 224 0
 551 0190 80E0      		ldi r24,0
 552 0192 0E94 0000 		call bluefruit_serial_send
 553               	.LVL26:
 225:bluefruit/bluefruit.c ****     bluefruit_serial_send(0x00);
 554               		.loc 1 225 0
 555 0196 80E0      		ldi r24,0
 556 0198 0E94 0000 		call bluefruit_serial_send
 557               	.LVL27:
 226:bluefruit/bluefruit.c ****     bluefruit_serial_send(0x00);
 558               		.loc 1 226 0
 559 019c 80E0      		ldi r24,0
 560 019e 0E94 0000 		call bluefruit_serial_send
 561               	.LVL28:
 227:bluefruit/bluefruit.c ****     bluefruit_serial_send(0x00);
 562               		.loc 1 227 0
 563 01a2 80E0      		ldi r24,0
 564 01a4 0E94 0000 		call bluefruit_serial_send
 565               	.LVL29:
 566               	/* epilogue start */
 228:bluefruit/bluefruit.c **** #ifdef BLUEFRUIT_TRACE_SERIAL
 229:bluefruit/bluefruit.c ****     bluefruit_trace_footer();
 230:bluefruit/bluefruit.c **** #endif
 231:bluefruit/bluefruit.c **** }
 567               		.loc 1 231 0
 568 01a8 FF90      		pop r15
 569 01aa EF90      		pop r14
 570               	.LVL30:
 571 01ac DF90      		pop r13
 572 01ae CF90      		pop r12
 573               	.LVL31:
 229:bluefruit/bluefruit.c ****     bluefruit_trace_footer();
 574               		.loc 1 229 0
 575 01b0 0C94 0000 		jmp bluefruit_trace_footer
 576               	.LVL32:
 577               	.L34:
 578               	/* epilogue start */
 579               		.loc 1 231 0
 580 01b4 FF90      		pop r15
 581 01b6 EF90      		pop r14
 582 01b8 DF90      		pop r13
 583 01ba CF90      		pop r12
 584               	.LVL33:
 585 01bc 0895      		ret
 586               		.cfi_endproc
 587               	.LFE17:
 589               		.section	.text.send_mouse,"ax",@progbits
 591               	send_mouse:
 592               	.LFB15:
 141:bluefruit/bluefruit.c **** {
 593               		.loc 1 141 0
 594               		.cfi_startproc
 595               	.LVL34:
 596 0000 EF92      		push r14
 597               	.LCFI47:
 598               		.cfi_def_cfa_offset 3
 599               		.cfi_offset 14, -2
 600 0002 FF92      		push r15
 601               	.LCFI48:
 602               		.cfi_def_cfa_offset 4
 603               		.cfi_offset 15, -3
 604               	/* prologue: function */
 605               	/* frame size = 0 */
 606               	/* stack size = 2 */
 607               	.L__stack_usage = 2
 608 0004 7C01      		movw r14,r24
 143:bluefruit/bluefruit.c ****     bluefruit_trace_header();
 609               		.loc 1 143 0
 610 0006 0E94 0000 		call bluefruit_trace_header
 611               	.LVL35:
 145:bluefruit/bluefruit.c ****     bluefruit_serial_send(0xFD);
 612               		.loc 1 145 0
 613 000a 8DEF      		ldi r24,lo8(-3)
 614 000c 0E94 0000 		call bluefruit_serial_send
 615               	.LVL36:
 146:bluefruit/bluefruit.c ****     bluefruit_serial_send(0x00);
 616               		.loc 1 146 0
 617 0010 80E0      		ldi r24,0
 618 0012 0E94 0000 		call bluefruit_serial_send
 619               	.LVL37:
 147:bluefruit/bluefruit.c ****     bluefruit_serial_send(0x03);
 620               		.loc 1 147 0
 621 0016 83E0      		ldi r24,lo8(3)
 622 0018 0E94 0000 		call bluefruit_serial_send
 623               	.LVL38:
 148:bluefruit/bluefruit.c ****     bluefruit_serial_send(report->buttons);
 624               		.loc 1 148 0
 625 001c F701      		movw r30,r14
 626 001e 8081      		ld r24,Z
 627 0020 0E94 0000 		call bluefruit_serial_send
 628               	.LVL39:
 149:bluefruit/bluefruit.c ****     bluefruit_serial_send(report->x);
 629               		.loc 1 149 0
 630 0024 F701      		movw r30,r14
 631 0026 8181      		ldd r24,Z+1
 632 0028 0E94 0000 		call bluefruit_serial_send
 633               	.LVL40:
 150:bluefruit/bluefruit.c ****     bluefruit_serial_send(report->y);
 634               		.loc 1 150 0
 635 002c F701      		movw r30,r14
 636 002e 8281      		ldd r24,Z+2
 637 0030 0E94 0000 		call bluefruit_serial_send
 638               	.LVL41:
 151:bluefruit/bluefruit.c ****     bluefruit_serial_send(report->v); // should try sending the wheel v here
 639               		.loc 1 151 0
 640 0034 F701      		movw r30,r14
 641 0036 8381      		ldd r24,Z+3
 642 0038 0E94 0000 		call bluefruit_serial_send
 643               	.LVL42:
 152:bluefruit/bluefruit.c ****     bluefruit_serial_send(report->h); // should try sending the wheel h here
 644               		.loc 1 152 0
 645 003c F701      		movw r30,r14
 646 003e 8481      		ldd r24,Z+4
 647 0040 0E94 0000 		call bluefruit_serial_send
 648               	.LVL43:
 153:bluefruit/bluefruit.c ****     bluefruit_serial_send(0x00);
 649               		.loc 1 153 0
 650 0044 80E0      		ldi r24,0
 651 0046 0E94 0000 		call bluefruit_serial_send
 652               	.LVL44:
 653               	/* epilogue start */
 157:bluefruit/bluefruit.c **** }
 654               		.loc 1 157 0
 655 004a FF90      		pop r15
 656 004c EF90      		pop r14
 657               	.LVL45:
 155:bluefruit/bluefruit.c ****     bluefruit_trace_footer();
 658               		.loc 1 155 0
 659 004e 0C94 0000 		jmp bluefruit_trace_footer
 660               	.LVL46:
 661               		.cfi_endproc
 662               	.LFE15:
 664               		.section	.text.send_keyboard,"ax",@progbits
 666               	send_keyboard:
 667               	.LFB14:
 127:bluefruit/bluefruit.c **** {
 668               		.loc 1 127 0
 669               		.cfi_startproc
 670               	.LVL47:
 671 0000 EF92      		push r14
 672               	.LCFI49:
 673               		.cfi_def_cfa_offset 3
 674               		.cfi_offset 14, -2
 675 0002 FF92      		push r15
 676               	.LCFI50:
 677               		.cfi_def_cfa_offset 4
 678               		.cfi_offset 15, -3
 679 0004 1F93      		push r17
 680               	.LCFI51:
 681               		.cfi_def_cfa_offset 5
 682               		.cfi_offset 17, -4
 683 0006 CF93      		push r28
 684               	.LCFI52:
 685               		.cfi_def_cfa_offset 6
 686               		.cfi_offset 28, -5
 687 0008 DF93      		push r29
 688               	.LCFI53:
 689               		.cfi_def_cfa_offset 7
 690               		.cfi_offset 29, -6
 691 000a 1F92      		push __zero_reg__
 692               	.LCFI54:
 693               		.cfi_def_cfa_offset 8
 694 000c CDB7      		in r28,__SP_L__
 695 000e DEB7      		in r29,__SP_H__
 696               	.LCFI55:
 697               		.cfi_def_cfa_register 28
 698               	/* prologue: function */
 699               	/* frame size = 1 */
 700               	/* stack size = 6 */
 701               	.L__stack_usage = 6
 702 0010 182F      		mov r17,r24
 129:bluefruit/bluefruit.c ****     bluefruit_trace_header();
 703               		.loc 1 129 0
 704 0012 9983      		std Y+1,r25
 705 0014 0E94 0000 		call bluefruit_trace_header
 706               	.LVL48:
 131:bluefruit/bluefruit.c ****     bluefruit_serial_send(0xFD);
 707               		.loc 1 131 0
 708 0018 8DEF      		ldi r24,lo8(-3)
 709 001a 0E94 0000 		call bluefruit_serial_send
 710               	.LVL49:
 711 001e E12E      		mov r14,r17
 712 0020 9981      		ldd r25,Y+1
 713 0022 F92E      		mov r15,r25
 714 0024 18E0      		ldi r17,lo8(8)
 715               	.LVL50:
 716               	.L73:
 717               	.LBB2:
 133:bluefruit/bluefruit.c ****         bluefruit_serial_send(report->raw[i]);
 718               		.loc 1 133 0 discriminator 2
 719 0026 F701      		movw r30,r14
 720 0028 8191      		ld r24,Z+
 721 002a 7F01      		movw r14,r30
 722 002c 0E94 0000 		call bluefruit_serial_send
 723               	.LVL51:
 724 0030 1150      		subi r17,lo8(-(-1))
 132:bluefruit/bluefruit.c ****     for (uint8_t i = 0; i < KEYBOARD_REPORT_SIZE; i++) {
 725               		.loc 1 132 0 discriminator 2
 726 0032 01F4      		brne .L73
 727               	/* epilogue start */
 728               	.LBE2:
 138:bluefruit/bluefruit.c **** }
 729               		.loc 1 138 0
 730 0034 0F90      		pop __tmp_reg__
 731 0036 DF91      		pop r29
 732 0038 CF91      		pop r28
 733 003a 1F91      		pop r17
 734 003c FF90      		pop r15
 735 003e EF90      		pop r14
 136:bluefruit/bluefruit.c ****     bluefruit_trace_footer();   
 736               		.loc 1 136 0
 737 0040 0C94 0000 		jmp bluefruit_trace_footer
 738               	.LVL52:
 739               		.cfi_endproc
 740               	.LFE14:
 742               		.section	.text.bluefruit_pins_init,"ax",@progbits
 743               	.global	bluefruit_pins_init
 745               	bluefruit_pins_init:
 746               	.LFB7:
  41:bluefruit/bluefruit.c **** void bluefruit_pins_init(void) {
 747               		.loc 1 41 0
 748               		.cfi_startproc
 749               	/* prologue: function */
 750               	/* frame size = 0 */
 751               	/* stack size = 0 */
 752               	.L__stack_usage = 0
  56:bluefruit/bluefruit.c ****     DDR_BF_PAIRB &= ~(1<<BIT_BF_PAIRB);
 753               		.loc 1 56 0
 754 0000 5698      		cbi 0xa,6
  57:bluefruit/bluefruit.c ****     PORT_BF_PAIRB &= ~(1<<BIT_BF_PAIRB);
 755               		.loc 1 57 0
 756 0002 5E98      		cbi 0xb,6
 757 0004 0895      		ret
 758               		.cfi_endproc
 759               	.LFE7:
 761               		.section	.text.bluefruit_keyboard_print_report,"ax",@progbits
 762               	.global	bluefruit_keyboard_print_report
 764               	bluefruit_keyboard_print_report:
 765               	.LFB8:
  67:bluefruit/bluefruit.c **** {
 766               		.loc 1 67 0
 767               		.cfi_startproc
 768               	.LVL53:
 769 0000 8F92      		push r8
 770               	.LCFI56:
 771               		.cfi_def_cfa_offset 3
 772               		.cfi_offset 8, -2
 773 0002 9F92      		push r9
 774               	.LCFI57:
 775               		.cfi_def_cfa_offset 4
 776               		.cfi_offset 9, -3
 777 0004 AF92      		push r10
 778               	.LCFI58:
 779               		.cfi_def_cfa_offset 5
 780               		.cfi_offset 10, -4
 781 0006 BF92      		push r11
 782               	.LCFI59:
 783               		.cfi_def_cfa_offset 6
 784               		.cfi_offset 11, -5
 785 0008 CF92      		push r12
 786               	.LCFI60:
 787               		.cfi_def_cfa_offset 7
 788               		.cfi_offset 12, -6
 789 000a DF92      		push r13
 790               	.LCFI61:
 791               		.cfi_def_cfa_offset 8
 792               		.cfi_offset 13, -7
 793 000c EF92      		push r14
 794               	.LCFI62:
 795               		.cfi_def_cfa_offset 9
 796               		.cfi_offset 14, -8
 797 000e FF92      		push r15
 798               	.LCFI63:
 799               		.cfi_def_cfa_offset 10
 800               		.cfi_offset 15, -9
 801               	/* prologue: function */
 802               	/* frame size = 0 */
 803               	/* stack size = 8 */
 804               	.L__stack_usage = 8
 805 0010 6C01      		movw r12,r24
  68:bluefruit/bluefruit.c ****     if (!debug_keyboard) return;
 806               		.loc 1 68 0
 807 0012 8091 0000 		lds r24,debug_config
 808               	.LVL54:
 809 0016 82FF      		sbrs r24,2
 810 0018 00C0      		rjmp .L76
  69:bluefruit/bluefruit.c ****     dprintf("keys: "); for (int i = 0; i < KEYBOARD_REPORT_KEYS; i++) { debug_hex8(report->keys[i])
 811               		.loc 1 69 0
 812 001a 80FF      		sbrs r24,0
 813 001c 00C0      		rjmp .L79
  69:bluefruit/bluefruit.c ****     dprintf("keys: "); for (int i = 0; i < KEYBOARD_REPORT_KEYS; i++) { debug_hex8(report->keys[i])
 814               		.loc 1 69 0 is_stmt 0 discriminator 1
 815 001e 80E0      		ldi r24,lo8(__c.2041)
 816 0020 90E0      		ldi r25,hi8(__c.2041)
 817 0022 9F93      		push r25
 818               	.LCFI64:
 819               		.cfi_def_cfa_offset 11
 820 0024 8F93      		push r24
 821               	.LCFI65:
 822               		.cfi_def_cfa_offset 12
 823 0026 0E94 0000 		call __xprintf
 824               	.LVL55:
 825 002a 0F90      		pop __tmp_reg__
 826 002c 0F90      		pop __tmp_reg__
 827               	.LCFI66:
 828               		.cfi_def_cfa_offset 10
 829               	.L79:
 830               	.LVL56:
  67:bluefruit/bluefruit.c **** {
 831               		.loc 1 67 0 is_stmt 1 discriminator 1
 832 002e E12C      		mov r14,__zero_reg__
 833 0030 F12C      		mov r15,__zero_reg__
 834               	.LBB3:
  69:bluefruit/bluefruit.c ****     dprintf("keys: "); for (int i = 0; i < KEYBOARD_REPORT_KEYS; i++) { debug_hex8(report->keys[i])
 835               		.loc 1 69 0 discriminator 1
 836 0032 E0E0      		ldi r30,lo8(__c.2044)
 837 0034 AE2E      		mov r10,r30
 838 0036 E0E0      		ldi r30,hi8(__c.2044)
 839 0038 BE2E      		mov r11,r30
 840 003a F0E0      		ldi r31,lo8(__c.2046)
 841 003c 8F2E      		mov r8,r31
 842 003e F0E0      		ldi r31,hi8(__c.2046)
 843 0040 9F2E      		mov r9,r31
 844               	.LVL57:
 845               	.L82:
  69:bluefruit/bluefruit.c ****     dprintf("keys: "); for (int i = 0; i < KEYBOARD_REPORT_KEYS; i++) { debug_hex8(report->keys[i])
 846               		.loc 1 69 0 is_stmt 0 discriminator 2
 847 0042 8091 0000 		lds r24,debug_config
 848 0046 80FF      		sbrs r24,0
 849 0048 00C0      		rjmp .L80
  66:bluefruit/bluefruit.c **** void bluefruit_keyboard_print_report(report_keyboard_t *report)
 850               		.loc 1 66 0 is_stmt 1 discriminator 1
 851 004a F601      		movw r30,r12
 852 004c EE0D      		add r30,r14
 853 004e FF1D      		adc r31,r15
  69:bluefruit/bluefruit.c ****     dprintf("keys: "); for (int i = 0; i < KEYBOARD_REPORT_KEYS; i++) { debug_hex8(report->keys[i])
 854               		.loc 1 69 0 discriminator 1
 855 0050 8281      		ldd r24,Z+2
 856 0052 1F92      		push __zero_reg__
 857               	.LCFI67:
 858               		.cfi_def_cfa_offset 11
 859 0054 8F93      		push r24
 860               	.LCFI68:
 861               		.cfi_def_cfa_offset 12
 862 0056 BF92      		push r11
 863               	.LCFI69:
 864               		.cfi_def_cfa_offset 13
 865 0058 AF92      		push r10
 866               	.LCFI70:
 867               		.cfi_def_cfa_offset 14
 868 005a 0E94 0000 		call __xprintf
 869               	.LVL58:
 870 005e 0F90      		pop __tmp_reg__
 871 0060 0F90      		pop __tmp_reg__
 872 0062 0F90      		pop __tmp_reg__
 873 0064 0F90      		pop __tmp_reg__
 874               	.LCFI71:
 875               		.cfi_def_cfa_offset 10
 876               	.L80:
  69:bluefruit/bluefruit.c ****     dprintf("keys: "); for (int i = 0; i < KEYBOARD_REPORT_KEYS; i++) { debug_hex8(report->keys[i])
 877               		.loc 1 69 0 is_stmt 0 discriminator 2
 878 0066 8091 0000 		lds r24,debug_config
 879 006a 80FF      		sbrs r24,0
 880 006c 00C0      		rjmp .L81
  69:bluefruit/bluefruit.c ****     dprintf("keys: "); for (int i = 0; i < KEYBOARD_REPORT_KEYS; i++) { debug_hex8(report->keys[i])
 881               		.loc 1 69 0 discriminator 1
 882 006e 9F92      		push r9
 883               	.LCFI72:
 884               		.cfi_def_cfa_offset 11
 885 0070 8F92      		push r8
 886               	.LCFI73:
 887               		.cfi_def_cfa_offset 12
 888 0072 0E94 0000 		call __xprintf
 889               	.LVL59:
 890 0076 0F90      		pop __tmp_reg__
 891 0078 0F90      		pop __tmp_reg__
 892               	.LCFI74:
 893               		.cfi_def_cfa_offset 10
 894               	.L81:
  69:bluefruit/bluefruit.c ****     dprintf("keys: "); for (int i = 0; i < KEYBOARD_REPORT_KEYS; i++) { debug_hex8(report->keys[i])
 895               		.loc 1 69 0 discriminator 2
 896 007a 8FEF      		ldi r24,-1
 897 007c E81A      		sub r14,r24
 898 007e F80A      		sbc r15,r24
 899               	.LVL60:
 900 0080 E6E0      		ldi r30,6
 901 0082 EE16      		cp r14,r30
 902 0084 F104      		cpc r15,__zero_reg__
 903 0086 01F4      		brne .L82
 904               	.LBE3:
  70:bluefruit/bluefruit.c ****     dprintf(" mods: "); debug_hex8(report->mods);
 905               		.loc 1 70 0 is_stmt 1
 906 0088 8091 0000 		lds r24,debug_config
 907 008c 80FF      		sbrs r24,0
 908 008e 00C0      		rjmp .L83
  70:bluefruit/bluefruit.c ****     dprintf(" mods: "); debug_hex8(report->mods);
 909               		.loc 1 70 0 is_stmt 0 discriminator 1
 910 0090 80E0      		ldi r24,lo8(__c.2051)
 911 0092 90E0      		ldi r25,hi8(__c.2051)
 912 0094 9F93      		push r25
 913               	.LCFI75:
 914               		.cfi_def_cfa_offset 11
 915 0096 8F93      		push r24
 916               	.LCFI76:
 917               		.cfi_def_cfa_offset 12
 918 0098 0E94 0000 		call __xprintf
 919               	.LVL61:
 920 009c 0F90      		pop __tmp_reg__
 921 009e 0F90      		pop __tmp_reg__
 922               	.LCFI77:
 923               		.cfi_def_cfa_offset 10
 924               	.L83:
  70:bluefruit/bluefruit.c ****     dprintf(" mods: "); debug_hex8(report->mods);
 925               		.loc 1 70 0 discriminator 2
 926 00a0 8091 0000 		lds r24,debug_config
 927 00a4 80FF      		sbrs r24,0
 928 00a6 00C0      		rjmp .L84
  70:bluefruit/bluefruit.c ****     dprintf(" mods: "); debug_hex8(report->mods);
 929               		.loc 1 70 0 discriminator 1
 930 00a8 F601      		movw r30,r12
 931 00aa 8081      		ld r24,Z
 932 00ac 1F92      		push __zero_reg__
 933               	.LCFI78:
 934               		.cfi_def_cfa_offset 11
 935 00ae 8F93      		push r24
 936               	.LCFI79:
 937               		.cfi_def_cfa_offset 12
 938 00b0 80E0      		ldi r24,lo8(__c.2053)
 939 00b2 90E0      		ldi r25,hi8(__c.2053)
 940 00b4 9F93      		push r25
 941               	.LCFI80:
 942               		.cfi_def_cfa_offset 13
 943 00b6 8F93      		push r24
 944               	.LCFI81:
 945               		.cfi_def_cfa_offset 14
 946 00b8 0E94 0000 		call __xprintf
 947               	.LVL62:
 948 00bc 0F90      		pop __tmp_reg__
 949 00be 0F90      		pop __tmp_reg__
 950 00c0 0F90      		pop __tmp_reg__
 951 00c2 0F90      		pop __tmp_reg__
 952               	.LCFI82:
 953               		.cfi_def_cfa_offset 10
 954               	.L84:
  71:bluefruit/bluefruit.c ****     dprintf(" reserved: "); debug_hex8(report->reserved); 
 955               		.loc 1 71 0 is_stmt 1
 956 00c4 8091 0000 		lds r24,debug_config
 957 00c8 80FF      		sbrs r24,0
 958 00ca 00C0      		rjmp .L85
  71:bluefruit/bluefruit.c ****     dprintf(" reserved: "); debug_hex8(report->reserved); 
 959               		.loc 1 71 0 is_stmt 0 discriminator 1
 960 00cc 80E0      		ldi r24,lo8(__c.2055)
 961 00ce 90E0      		ldi r25,hi8(__c.2055)
 962 00d0 9F93      		push r25
 963               	.LCFI83:
 964               		.cfi_def_cfa_offset 11
 965 00d2 8F93      		push r24
 966               	.LCFI84:
 967               		.cfi_def_cfa_offset 12
 968 00d4 0E94 0000 		call __xprintf
 969               	.LVL63:
 970 00d8 0F90      		pop __tmp_reg__
 971 00da 0F90      		pop __tmp_reg__
 972               	.LCFI85:
 973               		.cfi_def_cfa_offset 10
 974               	.L85:
  71:bluefruit/bluefruit.c ****     dprintf(" reserved: "); debug_hex8(report->reserved); 
 975               		.loc 1 71 0 discriminator 2
 976 00dc 8091 0000 		lds r24,debug_config
 977 00e0 80FF      		sbrs r24,0
 978 00e2 00C0      		rjmp .L86
  71:bluefruit/bluefruit.c ****     dprintf(" reserved: "); debug_hex8(report->reserved); 
 979               		.loc 1 71 0 discriminator 1
 980 00e4 F601      		movw r30,r12
 981 00e6 8181      		ldd r24,Z+1
 982 00e8 1F92      		push __zero_reg__
 983               	.LCFI86:
 984               		.cfi_def_cfa_offset 11
 985 00ea 8F93      		push r24
 986               	.LCFI87:
 987               		.cfi_def_cfa_offset 12
 988 00ec 80E0      		ldi r24,lo8(__c.2057)
 989 00ee 90E0      		ldi r25,hi8(__c.2057)
 990 00f0 9F93      		push r25
 991               	.LCFI88:
 992               		.cfi_def_cfa_offset 13
 993 00f2 8F93      		push r24
 994               	.LCFI89:
 995               		.cfi_def_cfa_offset 14
 996 00f4 0E94 0000 		call __xprintf
 997               	.LVL64:
 998 00f8 0F90      		pop __tmp_reg__
 999 00fa 0F90      		pop __tmp_reg__
 1000 00fc 0F90      		pop __tmp_reg__
 1001 00fe 0F90      		pop __tmp_reg__
 1002               	.LCFI90:
 1003               		.cfi_def_cfa_offset 10
 1004               	.L86:
  72:bluefruit/bluefruit.c ****     dprintf("\n");
 1005               		.loc 1 72 0 is_stmt 1
 1006 0100 8091 0000 		lds r24,debug_config
 1007 0104 80FF      		sbrs r24,0
 1008 0106 00C0      		rjmp .L76
  72:bluefruit/bluefruit.c ****     dprintf("\n");
 1009               		.loc 1 72 0 is_stmt 0 discriminator 1
 1010 0108 80E0      		ldi r24,lo8(__c.2059)
 1011 010a 90E0      		ldi r25,hi8(__c.2059)
 1012 010c 9F93      		push r25
 1013               	.LCFI91:
 1014               		.cfi_def_cfa_offset 11
 1015 010e 8F93      		push r24
 1016               	.LCFI92:
 1017               		.cfi_def_cfa_offset 12
 1018 0110 0E94 0000 		call __xprintf
 1019               	.LVL65:
 1020 0114 0F90      		pop __tmp_reg__
 1021 0116 0F90      		pop __tmp_reg__
 1022               	.LCFI93:
 1023               		.cfi_def_cfa_offset 10
 1024               	.LVL66:
 1025               	.L76:
 1026               	/* epilogue start */
  73:bluefruit/bluefruit.c **** }
 1027               		.loc 1 73 0 is_stmt 1
 1028 0118 FF90      		pop r15
 1029 011a EF90      		pop r14
 1030 011c DF90      		pop r13
 1031 011e CF90      		pop r12
 1032               	.LVL67:
 1033 0120 BF90      		pop r11
 1034 0122 AF90      		pop r10
 1035 0124 9F90      		pop r9
 1036 0126 8F90      		pop r8
 1037 0128 0895      		ret
 1038               		.cfi_endproc
 1039               	.LFE8:
 1041               		.section	.text.bluefruit_driver,"ax",@progbits
 1042               	.global	bluefruit_driver
 1044               	bluefruit_driver:
 1045               	.LFB12:
 118:bluefruit/bluefruit.c **** {
 1046               		.loc 1 118 0
 1047               		.cfi_startproc
 1048               	/* prologue: function */
 1049               	/* frame size = 0 */
 1050               	/* stack size = 0 */
 1051               	.L__stack_usage = 0
 120:bluefruit/bluefruit.c **** }
 1052               		.loc 1 120 0
 1053 0000 80E0      		ldi r24,lo8(driver)
 1054 0002 90E0      		ldi r25,hi8(driver)
 1055 0004 0895      		ret
 1056               		.cfi_endproc
 1057               	.LFE12:
 1059               		.section	.progmem.data.__c.2041,"a",@progbits
 1062               	__c.2041:
 1063 0000 6B65 7973 		.string	"keys: "
 1063      3A20 00
 1064               		.section	.progmem.data.__c.2044,"a",@progbits
 1067               	__c.2044:
 1068 0000 2530 3258 		.string	"%02X"
 1068      00
 1069               		.section	.progmem.data.__c.2046,"a",@progbits
 1072               	__c.2046:
 1073 0000 2000      		.string	" "
 1074               		.section	.progmem.data.__c.2051,"a",@progbits
 1077               	__c.2051:
 1078 0000 206D 6F64 		.string	" mods: "
 1078      733A 2000 
 1079               		.section	.progmem.data.__c.2053,"a",@progbits
 1082               	__c.2053:
 1083 0000 2530 3258 		.string	"%02X"
 1083      00
 1084               		.section	.progmem.data.__c.2055,"a",@progbits
 1087               	__c.2055:
 1088 0000 2072 6573 		.string	" reserved: "
 1088      6572 7665 
 1088      643A 2000 
 1089               		.section	.progmem.data.__c.2057,"a",@progbits
 1092               	__c.2057:
 1093 0000 2530 3258 		.string	"%02X"
 1093      00
 1094               		.section	.progmem.data.__c.2059,"a",@progbits
 1097               	__c.2059:
 1098 0000 0A00      		.string	"\n"
 1099               		.section	.data.driver,"aw",@progbits
 1102               	driver:
 1103 0000 0000      		.word	gs(keyboard_leds)
 1104 0002 0000      		.word	gs(send_keyboard)
 1105 0004 0000      		.word	gs(send_mouse)
 1106 0006 0000      		.word	gs(send_system)
 1107 0008 0000      		.word	gs(send_consumer)
 1108               		.section	.bss.last_data.2117,"aw",@nobits
 1111               	last_data.2117:
 1112 0000 0000      		.zero	2
 1113               		.section	.progmem.data.__c.2119,"a",@progbits
 1116               	__c.2119:
 1117 0000 0A44 6174 		.string	"\nData: "
 1117      613A 2000 
 1118               		.section	.progmem.data.__c.2121,"a",@progbits
 1121               	__c.2121:
 1122 0000 2530 3458 		.string	"%04X"
 1122      00
 1123               		.section	.progmem.data.__c.2123,"a",@progbits
 1126               	__c.2123:
 1127 0000 3B20 6269 		.string	"; bitmap: "
 1127      746D 6170 
 1127      3A20 00
 1128               		.section	.progmem.data.__c.2125,"a",@progbits
 1131               	__c.2125:
 1132 0000 2530 3458 		.string	"%04X"
 1132      00
 1133               		.section	.progmem.data.__c.2127,"a",@progbits
 1136               	__c.2127:
 1137 0000 0A00      		.string	"\n"
 1138               		.section	.progmem.data.__c.2064,"a",@progbits
 1141               	__c.2064:
 1142 0000 2B2D 2D2D 		.string	"+------------------------------------+\n"
 1142      2D2D 2D2D 
 1142      2D2D 2D2D 
 1142      2D2D 2D2D 
 1142      2D2D 2D2D 
 1143               		.section	.progmem.data.__c.2066,"a",@progbits
 1146               	__c.2066:
 1147 0000 7C20 4849 		.string	"| HID report to Bluefruit via serial |\n"
 1147      4420 7265 
 1147      706F 7274 
 1147      2074 6F20 
 1147      426C 7565 
 1148               		.section	.progmem.data.__c.2068,"a",@progbits
 1151               	__c.2068:
 1152 0000 2B2D 2D2D 		.string	"+------------------------------------+\n|"
 1152      2D2D 2D2D 
 1152      2D2D 2D2D 
 1152      2D2D 2D2D 
 1152      2D2D 2D2D 
 1153               		.section	.progmem.data.__c.2078,"a",@progbits
 1156               	__c.2078:
 1157 0000 2000      		.string	" "
 1158               		.section	.progmem.data.__c.2080,"a",@progbits
 1161               	__c.2080:
 1162 0000 2530 3258 		.string	"%02X"
 1162      00
 1163               		.section	.progmem.data.__c.2082,"a",@progbits
 1166               	__c.2082:
 1167 0000 2000      		.string	" "
 1168               		.section	.progmem.data.__c.2073,"a",@progbits
 1171               	__c.2073:
 1172 0000 7C0A 2B2D 		.string	"|\n+------------------------------------+\n\n"
 1172      2D2D 2D2D 
 1172      2D2D 2D2D 
 1172      2D2D 2D2D 
 1172      2D2D 2D2D 
 1173               		.text
 1174               	.Letext0:
 1175               		.file 2 "/usr/lib64/gcc/avr/4.7.1/../../../../avr/include/stdint.h"
 1176               		.file 3 "../../../../tmk_core/common/report.h"
 1177               		.file 4 "../../../../tmk_core/common/host_driver.h"
 1178               		.file 5 "../../../../tmk_core/common/debug.h"
 1179               		.file 6 "../../../../tmk_core/common/avr/xprintf.h"
 1180               		.file 7 "../../../../tmk_core/protocol/serial.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 bluefruit.c
     /tmp/ccWZZPoz.s:2      *ABS*:000000000000003e __SP_H__
     /tmp/ccWZZPoz.s:3      *ABS*:000000000000003d __SP_L__
     /tmp/ccWZZPoz.s:4      *ABS*:000000000000003f __SREG__
     /tmp/ccWZZPoz.s:5      *ABS*:000000000000003b __RAMPZ__
     /tmp/ccWZZPoz.s:6      *ABS*:0000000000000000 __tmp_reg__
     /tmp/ccWZZPoz.s:7      *ABS*:0000000000000001 __zero_reg__
     /tmp/ccWZZPoz.s:13     .text.keyboard_leds:0000000000000000 keyboard_leds
     /tmp/ccWZZPoz.s:30     .text.send_system:0000000000000000 send_system
     /tmp/ccWZZPoz.s:45     .text.bluefruit_trace_header:0000000000000000 bluefruit_trace_header
     /tmp/ccWZZPoz.s:1141   .progmem.data.__c.2064:0000000000000000 __c.2064
     /tmp/ccWZZPoz.s:1146   .progmem.data.__c.2066:0000000000000000 __c.2066
     /tmp/ccWZZPoz.s:1151   .progmem.data.__c.2068:0000000000000000 __c.2068
     /tmp/ccWZZPoz.s:119    .text.bluefruit_trace_footer:0000000000000000 bluefruit_trace_footer
     /tmp/ccWZZPoz.s:1171   .progmem.data.__c.2073:0000000000000000 __c.2073
     /tmp/ccWZZPoz.s:153    .text.bluefruit_serial_send:0000000000000000 bluefruit_serial_send
     /tmp/ccWZZPoz.s:1156   .progmem.data.__c.2078:0000000000000000 __c.2078
     /tmp/ccWZZPoz.s:1161   .progmem.data.__c.2080:0000000000000000 __c.2080
     /tmp/ccWZZPoz.s:1166   .progmem.data.__c.2082:0000000000000000 __c.2082
     /tmp/ccWZZPoz.s:250    .text.send_consumer:0000000000000000 send_consumer
     /tmp/ccWZZPoz.s:1111   .bss.last_data.2117:0000000000000000 last_data.2117
     /tmp/ccWZZPoz.s:1116   .progmem.data.__c.2119:0000000000000000 __c.2119
     /tmp/ccWZZPoz.s:1121   .progmem.data.__c.2121:0000000000000000 __c.2121
     /tmp/ccWZZPoz.s:1126   .progmem.data.__c.2123:0000000000000000 __c.2123
     /tmp/ccWZZPoz.s:1131   .progmem.data.__c.2125:0000000000000000 __c.2125
     /tmp/ccWZZPoz.s:1136   .progmem.data.__c.2127:0000000000000000 __c.2127
     /tmp/ccWZZPoz.s:591    .text.send_mouse:0000000000000000 send_mouse
     /tmp/ccWZZPoz.s:666    .text.send_keyboard:0000000000000000 send_keyboard
     /tmp/ccWZZPoz.s:745    .text.bluefruit_pins_init:0000000000000000 bluefruit_pins_init
     /tmp/ccWZZPoz.s:764    .text.bluefruit_keyboard_print_report:0000000000000000 bluefruit_keyboard_print_report
     /tmp/ccWZZPoz.s:1062   .progmem.data.__c.2041:0000000000000000 __c.2041
     /tmp/ccWZZPoz.s:1067   .progmem.data.__c.2044:0000000000000000 __c.2044
     /tmp/ccWZZPoz.s:1072   .progmem.data.__c.2046:0000000000000000 __c.2046
     /tmp/ccWZZPoz.s:1077   .progmem.data.__c.2051:0000000000000000 __c.2051
     /tmp/ccWZZPoz.s:1082   .progmem.data.__c.2053:0000000000000000 __c.2053
     /tmp/ccWZZPoz.s:1087   .progmem.data.__c.2055:0000000000000000 __c.2055
     /tmp/ccWZZPoz.s:1092   .progmem.data.__c.2057:0000000000000000 __c.2057
     /tmp/ccWZZPoz.s:1097   .progmem.data.__c.2059:0000000000000000 __c.2059
     /tmp/ccWZZPoz.s:1044   .text.bluefruit_driver:0000000000000000 bluefruit_driver
     /tmp/ccWZZPoz.s:1102   .data.driver:0000000000000000 driver

UNDEFINED SYMBOLS
debug_config
__xprintf
serial_send
__do_copy_data
__do_clear_bss
